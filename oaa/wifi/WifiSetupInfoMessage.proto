// Android Auto Protocol Buffer Definitions
// https://github.com/mrmees/open-android-auto
// SPDX-License-Identifier: GPL-3.0-or-later

/*
 * WifiSetupInfo — WiFi setup metadata exchanged during BT negotiation.
 *
 * APK class: wds.java (AA v16.1)
 * BT RFCOMM message type: ordinal 10 (MESSAGE_WIFI_SETUP_INFO_BT)
 *
 * Contains network configuration details and feature flags.
 * Sub-message wdi has SSID/BSSID/passphrase with SecurityMode enum.
 */

syntax="proto2";

import "oaa/common/FeatureFlagsData.proto";
import "oaa/wifi/WifiSecurityModeEnum.proto";

package oaa.proto.messages;

// APK class: wdi — WiFi network credentials with security mode
message WifiNetworkInfo {
    optional string ssid = 1;              // APK: b (String)
    optional string bssid = 2;            // APK: c (String)
    optional string passphrase = 3;       // APK: d (String)
    optional enums.WifiSecurityMode.Enum security_mode = 4;  // APK: e (enum via wck.s/wdr)
    // field 5: gap (not in APK)
    repeated int32 supported_channels = 6; // APK: f (repeated int32, zzb)
}

// Placeholder for setup payload sub-message (field 4 of WifiSetupInfo)
message WifiSetupPayload {}

message WifiSetupInfo {
    optional int32 setup_type = 1;        // APK: field 1 exists — was missing
    optional int32 setup_state = 2;       // APK: b (int)
    optional bytes setup_data = 3;        // APK: c — descriptor says bytes (not int32)
    optional WifiSetupPayload setup_payload = 4;  // APK: d — message (type_id=9), not bytes
    optional data.VersionFeatureFlags feature_flags = 5; // APK: e (wdq)
    // field 6 not in APK descriptor — removed
}
