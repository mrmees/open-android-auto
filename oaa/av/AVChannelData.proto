// SPDX-License-Identifier: GPL-3.0-or-later
// Copyright (C) 2024-2026 Open Android Auto contributors
// Based on works by: f1x.studio (aasdk), opencardev (crankshaft), aa-proxy (aa-proxy-rs)
syntax="proto2";

import "oaa/av/AVStreamTypeEnum.proto";
import "oaa/audio/AudioTypeEnum.proto";
import "oaa/audio/AudioConfigData.proto";
import "oaa/video/VideoConfigData.proto";
import "oaa/video/DisplayTypeEnum.proto";
import "oaa/video/VideoFocusReasonEnum.proto";
package oaa.proto.data;

message AVChannel
{
    optional enums.AVStreamType.Enum stream_type = 1;
    optional enums.AudioType.Enum audio_type = 2;
    repeated AudioConfig audio_configs = 3;
    repeated VideoConfig video_configs = 4;
    // Field 5: APK has uint32 here, not bool. Not present in phone-side proto. Removed.

    // Fields 6-9 discovered via APK decompilation (vys.java, AA v16.1).
    optional uint32 channel_id = 6;                             // Display/channel identifier (assigned by phone)
    optional enums.DisplayType.Enum display_type = 7;           // MAIN, CLUSTER, AUXILIARY
    optional int32 keycode = 8;                                 // Android keycode (APK enum: vyh.java)
    optional enums.VideoFocusReason.Enum focus_reason = 9;      // Why video focus was set
}
